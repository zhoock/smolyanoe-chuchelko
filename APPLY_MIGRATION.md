# Применение миграции для добавления поля password

## Способ 1: Через Supabase Dashboard (рекомендуется)

1. Откройте [Supabase Dashboard](https://app.supabase.com)
2. Выберите ваш проект
3. Перейдите в раздел **SQL Editor**
4. Скопируйте и выполните следующий SQL (без markdown блоков, только SQL код):

-- Миграция: Добавление поля password в таблицу users для хранения пароля в открытом виде
-- Дата: 2025
-- Назначение: Для внутренней админки необходимо хранить пароли в открытом виде

-- Добавляем поле password (TEXT) для хранения пароля в открытом виде
ALTER TABLE users
ADD COLUMN IF NOT EXISTS password TEXT;

-- Комментарий для поля
COMMENT ON COLUMN users.password IS 'Пароль пользователя в открытом виде (для внутренней админки)';

5. Нажмите кнопку **Run** для выполнения запроса

## Способ 2: Через psql (если есть доступ к базе данных)

```bash
psql $DATABASE_URL -f database/migrations/019_add_password_to_users.sql
```

## После применения миграции

1. **Для существующих пользователей** поле `password` будет `NULL` - это нормально
2. **Для новых пользователей** пароль будет сохраняться автоматически при регистрации
3. **Для существующих пользователей** можно заполнить пароль вручную через SQL или через интерфейс админки (после реализации функционала смены пароля)

## Проверка

После применения миграции откройте вкладку "Безопасность" в настройках профиля и проверьте консоль браузера:

- Должны появиться логи о загрузке пароля
- Если пароль пустой для существующего пользователя - это нормально
