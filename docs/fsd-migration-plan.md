## План миграции по слоям

Документ фиксирует текущие модули и предлагаемое место в структуре FSD. Используйте как чек-лист: после переноса отмечайте элементы и корректируйте назначения при необходимости.

### `src/components`

| Текущая директория | Назначение сейчас               | Рекомендованный слой                                          |
| ------------------ | ------------------------------- | ------------------------------------------------------------- |
| `AboutUs`          | Статический блок «О нас», стили | `widgets/about-us` или `shared/ui/about`                      |
| `AlbumDetails`     | Компоненты карточки альбома     | `entities/album/ui` (детализация)                             |
| `AlbumTracks`      | Список треков                   | `entities/track/ui` (создать сущность)                        |
| `Articles`         | Превью статей, враппер          | `entities/article` (`ui`, `model`)                            |
| `Footer`           | Глобальный подвал сайта         | `widgets/footer`                                              |
| `Forms`            | Общая форма                     | `shared/ui/form` или `features/form` (если с логикой)         |
| `Hamburger`        | Кнопка меню                     | `shared/ui/hamburger`                                         |
| `Header`           | Шапка сайта                     | `widgets/header`                                              |
| `Hero`             | Герой-блок                      | уже есть `widgets/hero` → объединить и удалить дубли          |
| `Navigation`       | Меню навигации                  | `widgets/navigation` или часть `widgets/header`               |
| `ServiceButtons`   | Кнопки сервисов                 | `features/share-buttons` (если логика) или `entities/service` |
| `Share`            | Шэринг                          | `features/share`                                              |
| `UseImageColor`    | Хук/компонент получения цвета   | вынести в `shared/lib/color` + `shared/ui` при необходимости  |
| `Waveform`         | Отображение волны аудио         | `features/audio-waveform` или `entities/track/ui`             |

После переноса `components/index.ts` следует удалить или превратить в реэкспорты новых слоёв.

### `src/hooks`

| Файл            | Назначение               | Рекомендованный слой                                   |
| --------------- | ------------------------ | ------------------------------------------------------ |
| `data.ts`       | Загрузка данных шаблонов | ✅ перенесено в `shared/api/albums` (`useAlbumsData`, `getImageUrl`, `formatDate`) |
| `useLang.ts`    | Контекст языка           | `shared/model/lang` (связать с `contexts/lang`)        |
| `__tests__/...` | Тесты хуков              | переименовать под соответствующие файлы после переноса |

### `src/utils`

| Файл              | Назначение                            | Рекомендованный слой         |
| ----------------- | ------------------------------------- | ---------------------------- |
| `ga.ts`           | Интеграция Google Analytics           | `shared/lib/analytics`       |
| `http.ts`         | HTTP-утилиты                          | `shared/api/http`            |
| `language.ts`     | Помощники локализации                 | `shared/lib/lang`            |
| `syncedLyrics.ts` | Работа с синхронизированными лириками | `features/synced-lyrics/lib` |
| `trackText.ts`    | Работа с текстами треков              | `entities/track/lib`         |

### Дополнительные действия

- Сверить `widgets` и `features` на предмет дублирования с компонентами.
- Настроить реэкспорты в каждой сущности (`index.ts`) после перемещения.
- Разделить стили: глобальные оставить в `shared/styles`, компонентные хранить рядом с компонентами.
- Обновлять документ при завершении каждого переноса.
